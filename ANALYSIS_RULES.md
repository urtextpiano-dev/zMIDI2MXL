# ANALYSIS RULES - UPDATED FOR PROVEN ISOLATED TESTING

## BREAKTHROUGH: CORE TESTING PROBLEM SOLVED ✅
**The fundamental issue has been resolved**: Agent now uses isolated function testing instead of trying to build the broken project. This produces **real evidence instead of estimates**.

## CRITICAL SAFETY RULES
1. **NEVER MODIFY SOURCE CODE** - Not even to fix bugs you find!
2. **ONLY CREATE .md FILES** - Documentation only  
3. **ONLY IN analysis_results/ directories**
4. **NO OTHER FILE OPERATIONS** - No deletes, renames, etc.
5. **CLAUDE CODE FILE PROMPTS** - ALWAYS press "1" to accept .md files only

## PROVEN PROCESS - USE ISOLATED TESTING METHODOLOGY
- **MANDATORY**: Use ONLY @zmidi-code-simplifier agent for analysis
- **MANDATORY**: Follow @isolated_function_tests/task_breakdown_template.md for TodoWrite tasks
- **MANDATORY**: Use @isolated_function_tests/function_analysis_template.md for documentation
- **Reference**: @isolated_function_tests/countEnabled_analysis_results.md for simple functions (6 lines)
- **Reference**: @isolated_function_tests/calculateBeatLength_analysis_results.md for complex functions (27 lines)
- **Evidence**: Real metrics required - compilation time, line counts, test results
- **Standards**: 100% functional equivalence verified through isolated testing

## REAL RESULTS ACHIEVED
- **countEnabled**: 33% line reduction, 7% faster compilation, 0 regressions
- **calculateBeatLength**: 22% line reduction, eliminated O(n) allocation, 0 regressions
- **Method**: Create isolated test environment → Extract dependencies → Test baseline → Apply simplifications → Verify equivalence

## COMMUNICATION  
Update SYNC_STATUS.md with status:
- STATUS: READY - Ready to begin isolated testing analysis
- STATUS: WORKING - Analysis in progress using proven methodology
- STATUS: COMPLETE - Analysis complete with real evidence package
- STATUS: PASS - Function already optimal (verified through testing)
- STATUS: ERROR - Problem with isolated testing setup
- STATUS: HELP - Need clarification on function dependencies
